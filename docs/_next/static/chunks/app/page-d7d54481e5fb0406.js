(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9485:function(e,r,t){Promise.resolve().then(t.bind(t,7141))},7141:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Q}});var n=t(7437),l=t(2265);let a=(e,r)=>{let[t,n]=(0,l.useState)(e),[a,c]=(0,l.useState)(r);return[t,a,(0,l.useCallback)(e=>{n(e),c(e=>"descend"===e?"ascend":"descend")},[n,c])]},c=e=>{let[r,t]=(0,l.useState)(e);return[r,(0,l.useCallback)(e=>{t([e[0],e[1]])},[])]},o=()=>{let[e,r]=(0,l.useState)(!1);return[e,(0,l.useCallback)(()=>{r(e=>!e)},[])]};var s=t(7394),i=t(7043),d=t(5657);let u=t(2126).Z.create({baseURL:"https://qecir5jdra.execute-api.ap-northeast-1.amazonaws.com/v1"});var f=t(1935),h=t(7834),m=t(119),x=t(4352),C=t(3220),y=t(6659);let p=e=>({id:e.id,contest:e.contest,category:e.category,name:e.name,difficulty:e.difficulty,startEpochSecond:e.start_epoch_second,resultCode:e.result_code||"Yet",problemIndex:e.problem_index,editorialTypes:e.editorial_types,isExperimental:e.is_experimental}),F={required:"'${label}' is required!"},g=(e,r)=>!!r&&r.label.toLowerCase().includes(e.toLowerCase()),b=(e,r)=>{let t=e.label,n=r.label,l=t.toLowerCase().localeCompare(n.toLowerCase(),"en");return 0===l?t.localeCompare(n,"en"):l},j=e=>e.map(e=>({value:e,label:e})),w=(0,l.memo)(e=>{let{handleProblemsChange:r,handleLoadingWritersErrorChange:t,handleSearchingErrorChange:a,retryTrigger:c}=e,[o,s]=(0,l.useState)([]),[i,w]=(0,l.useState)(!1),[k,S]=(0,l.useState)(!1);(0,l.useEffect)(()=>{w(!0),t(!1),u.get("/writers").then(e=>{s(e.data)}).catch(e=>{t(!0),console.log("ERROR when getting writers!!"),console.log(e)}).then(()=>{w(!1)})},[c,t]);let v=(0,l.useCallback)(e=>{S(!0),a(!1),u.get("/problems",{params:{writer:e.writer,user:e.user||void 0}}).then(e=>{r(e.data.map(e=>({...p(e),difficulty:e.difficulty&&(0,d.Vb)(e.difficulty)})))}).catch(e=>{a(!0),console.log("ERROR when getting problems!!"),console.log(e)}).then(()=>{S(!1)})},[r,a]);return(0,n.jsxs)(m.Z,{className:"w-72",validateMessages:F,onFinish:v,labelCol:{span:8},children:[(0,n.jsx)(m.Z.Item,{label:"Writer",name:"writer",rules:[{required:!0}],children:(0,n.jsx)(x.Z,{showSearch:!0,placeholder:"Search to Select",filterOption:g,filterSort:b,options:j(o),suffixIcon:i?(0,n.jsx)(f.Z,{style:{pointerEvents:"none"}}):void 0})}),(0,n.jsx)(m.Z.Item,{label:"Your User ID",name:"user",children:(0,n.jsx)(C.Z,{})}),(0,n.jsx)(m.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,n.jsx)(y.ZP,{type:"primary",htmlType:"submit",icon:(0,n.jsx)(h.Z,{}),loading:k,children:k?"Searching":"Search"})})]})});w.displayName="SearchForm";let k=["ABC","ARC"];var S=t(1469),v=t(6001);let B={official:{count:"official",color:"#bfbfbf"},user:{count:"user",color:"#ffc069"}},D=e=>{let{editorialType:r}=e,t=B[r];return(0,n.jsx)(v.Z,{count:t.count,color:t.color,size:"small",style:{boxShadow:"none"}})};var Z=t(471),G=t(7178),N=t(5448),O=t(9523);let I=e=>e<3200?(0,d.Fx)(e):e<3600?"Bronze":e<4e3?"Silver":"Gold",R=e=>{let{difficulty:r}=e;if(void 0===r)return(0,n.jsx)("span",{children:(0,n.jsx)(O.Z,{title:"Difficulty is unavailable.",children:(0,n.jsx)(v.Z,{size:"small",count:(0,n.jsx)(N.Z,{style:{color:"#22d3ee"}})})})});let t=I(r);return(0,n.jsx)("span",{children:(0,n.jsx)(O.Z,{title:"Difficulty: ".concat(r),children:(0,n.jsx)("span",{children:(0,n.jsx)(d.rK,{color:t,rating:r})})})})};var E=t(4700),z=t(1423),M=t(4184),_=t(7840);let Y={Black:0,Grey:400,Brown:800,Green:1200,Cyan:1600,Blue:2e3,Yellow:2400,Orange:2800,Red:3200,Bronze:3600,Silver:4e3,Gold:4400},T=(e,r)=>{let t=Y[e],n=r[0],l=r[1]-n;return 0===l?0:Math.max(0,Math.min(100,(t-n)/l*100))},A=(e,r)=>{switch(e){case"Grey":return"".concat(T("Grey",r),"%");case"Brown":return"".concat(T("Grey",r),"% ").concat(T("Brown",r),"%");case"Green":return"".concat(T("Brown",r),"% ").concat(T("Green",r),"%");case"Cyan":return"".concat(T("Green",r),"% ").concat(T("Cyan",r),"%");case"Blue":return"".concat(T("Cyan",r),"% ").concat(T("Blue",r),"%");case"Yellow":return"".concat(T("Blue",r),"% ").concat(T("Yellow",r),"%");case"Orange":return"".concat(T("Yellow",r),"% ").concat(T("Orange",r),"%");case"Red":return"".concat(T("Orange",r),"% ").concat(T("Red",r),"%");case"Bronze":return"".concat(T("Red",r),"%");case"Silver":return"".concat(T("Bronze",r),"%");case"Gold":return"".concat(T("Silver",r),"%")}},H=e=>"linear-gradient(to right, #808080 ".concat(A("Grey",e),", #804000 ").concat(A("Brown",e),", #008000 ").concat(A("Green",e),", #00C0C0 ").concat(A("Cyan",e),", #0000FF ").concat(A("Blue",e),", #C0C000 ").concat(A("Yellow",e),", #FF8000 ").concat(A("Orange",e),", #FF0000 ").concat(A("Red",e),", #965C2C ").concat(A("Bronze",e),", #FFDABD, #965C2C ").concat(A("Silver",e),", #808080 ").concat(A("Silver",e),", #FFFFFF, #808080 ").concat(A("Gold",e),", #FFD700 ").concat(A("Gold",e),", #FFFFFF, #FFD700 100.000%)"),L=e=>{let{isCustomOpened:r,handleCustomOpenedChange:t,isDifficultyHidden:a,handleDifficultyHiddenChange:c,difficultyRange:o,updateDifficultyRange:s}=e,i=(0,l.useMemo)(()=>({track:{background:H(o)},rail:{background:"linear-gradient(to right, #808080 9.091%, #804000 9.091% 18.182%, #008000 18.182% 27.273%, #00C0C0 27.273% 36.364%, #0000FF 36.364% 45.455%, #C0C000 45.455% 54.545%, #FF8000 54.545% 63.636%, #FF0000 63.636% 71.111%, #965C2C 72.727%, #FFDABD, #965C2C 81.818%, #808080 81.818%, #FFFFFF, #808080 90.909%, #FFD700 90.909%, #FFFFFF, #FFD700 100.000%)",opacity:.3}}),[o]),d=[{key:"1",label:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"mr-1",children:(0,n.jsx)(E.Z,{})}),"Customize"]}),children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(m.Z.Item,{className:"mb-0",label:"Hide Difficulty",children:(0,n.jsx)(z.Z,{checked:a,onClick:e=>{c(e)}})}),(0,n.jsx)(m.Z.Item,{className:"mb-0",label:"Filter Difficulty",children:(0,n.jsx)(M.Z,{range:!0,onChange:s,min:0,max:4400,value:[o[0],o[1]],styles:i})})]})}];return(0,n.jsx)(_.Z,{items:d,activeKey:r?"1":void 0,onChange:e=>{t(e.includes("1"))}})},q={A:10,B:20,C:30,D:40,E:50,F:60,F2:61,G:70,H:80,Ex:81},K=e=>q[e],P=[{dataIndex:"contest",key:"ID",width:110,sortDirections:[],defaultSortOrder:"ascend",sorter:(e,r)=>e.order-r.order,showSorterTooltip:!1,render:(e,r)=>"".concat(r.contest," - ").concat(r.problemIndex)},{title:"Title",dataIndex:"name",key:"Title",ellipsis:!0},{dataIndex:"difficulty",key:"diff",width:80,showSorterTooltip:!1,render:e=>e||"-"}],U=e=>{switch(e.resultCode){case"AC":return"bg-[#C3E6CB]";case"Trying":return"bg-[#FFEEBA]";case"Yet":return""}},V=(e,r,t)=>{switch(r){case"ID":e.sort((e,r)=>e.startEpochSecond-r.startEpochSecond||K(e.problemIndex)-K(r.problemIndex));break;case"diff":e.sort((e,r)=>(e.difficulty||-1e5)-(r.difficulty||-1e5))}return"descend"===t&&e.reverse(),e.map((e,r)=>({...e,order:r}))},W=(e,r)=>{let[t,n]=r;return e.filter(e=>{let{difficulty:r}=e;return void 0===r?0===t&&4400===n:t<=r&&r<=n})},$=e=>{let{problems:r,isCustomOpened:t,handleCustomOpenedChange:a,isDifficultyHidden:c,handleDifficultyHiddenChange:o,difficultyRange:i,updateDifficultyRange:u,activeSorter:f,sortOrder:h,activateSorter:m}=e,x=(0,l.useMemo)(()=>r.map((e,r)=>({...e,key:r.toString(),order:r})),[r]),C=(0,l.useMemo)(()=>V(x,f,h),[x,f,h]),y=(0,l.useMemo)(()=>W(C,i),[C,i]),p=(0,l.useMemo)(()=>P.filter(e=>"diff"!==e.key||!c).map(e=>"Title"===e.key?{...e,render:(e,r)=>(0,n.jsxs)("div",{className:"flex",children:[c||(0,n.jsx)("span",{className:"mr-2 align-text-bottom",children:(0,n.jsx)(R,{difficulty:r.difficulty})}),!c&&r.isExperimental&&(0,n.jsx)("span",{children:"\uD83E\uDDEA"}),(0,n.jsx)("span",{className:"mr-4",children:(0,n.jsx)(d.Sr,{href:"https://atcoder.jp/contests/".concat(r.contest,"/tasks/").concat(r.id),iconSize:"none",children:e})}),(0,n.jsx)("div",{className:"flex-auto flex justify-end",children:(0,n.jsx)(Z.Z,{size:"small",children:r.editorialTypes.map((e,r)=>(0,n.jsx)(D,{editorialType:e},r))})})]})}:e),[c]),F=(0,l.useCallback)(()=>m("ID"),[m]),g=(0,l.useCallback)(()=>m("diff"),[m]),b=(0,l.useMemo)(()=>p.map(e=>{switch(e.key){case"ID":return{...e,title:(0,n.jsx)(d.x0,{title:e.key,sortOrder:"ID"===f?h:null,onClick:F})};case"diff":return{...e,title:(0,n.jsx)(d.x0,{title:e.key,sortOrder:"diff"===f?h:null,onClick:g})};default:return e}}),[p,f,h,F,g]),j=(0,l.useMemo)(()=>(0,n.jsx)(L,{isCustomOpened:t,handleCustomOpenedChange:a,isDifficultyHidden:c,handleDifficultyHiddenChange:o,difficultyRange:i,updateDifficultyRange:u}),[t,c,i,a,o,u]);return(0,n.jsx)(s.Z,{vertical:!0,children:(0,n.jsx)(G.Z,{columns:b,dataSource:y,pagination:{position:[],pageSize:1e3},className:"max-w-xl",rowClassName:U,title:()=>j,style:{minHeight:"120vh"}})})},J=(0,l.memo)(e=>{let{problems:r}=e,[t,o]=(0,l.useState)(!1),[s,i]=(0,l.useState)(!1),[d,u]=c([0,4400]),[f,h,m]=a("ID","descend"),x=(0,l.useCallback)(e=>{o(e)},[]),C=(0,l.useCallback)(e=>{i(e)},[]),y=k.map(e=>{let l=r.filter(r=>r.category===e);return{label:(0,n.jsxs)("span",{className:"mx-2",children:[e," (",(0,n.jsx)("span",{className:"mx-0.5",children:l.length}),")"]}),key:e,children:(0,n.jsx)($,{problems:l,isCustomOpened:t,handleCustomOpenedChange:x,isDifficultyHidden:s,handleDifficultyHiddenChange:C,difficultyRange:d,updateDifficultyRange:u,activeSorter:f,sortOrder:h,activateSorter:m},e)}});return(0,n.jsx)(S.Z,{items:y,tabBarGutter:18,size:"middle",centered:!0})});function Q(){let[e,r]=(0,l.useState)([]),[t,a]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[u,f]=o(),h=(0,l.useCallback)(e=>{r(e)},[]),m=(0,l.useCallback)(e=>{a(e)},[]),x=(0,l.useCallback)(e=>{d(e)},[]);return(0,n.jsxs)(s.Z,{align:"center",vertical:!0,children:[(t||c)&&(0,n.jsxs)("div",{className:"mb-4",children:[t&&(0,n.jsx)(i.Z,{message:(0,n.jsxs)(n.Fragment,{children:["Failed to load wirters."," ",(0,n.jsx)("span",{className:"text-[#1677FF] cursor-pointer hover:text-[#69B1FF] transition-colors duration-300",onClick:f,children:"Click here to try again."})]}),type:"error",showIcon:!0}),c&&(0,n.jsx)(i.Z,{message:"Failed to search problems.",type:"error",showIcon:!0})]}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(w,{handleProblemsChange:h,handleLoadingWritersErrorChange:m,handleSearchingErrorChange:x,retryTrigger:u})}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(J,{problems:e})})]})}J.displayName="SearchResult"},5657:function(e,r,t){"use strict";t.d(r,{x0:function(){return u},Sr:function(){return m},rK:function(){return j},Vb:function(){return x},Fx:function(){return y}});var n=t(7437),l=t(6824),a=t(9192);let c="#0000004a",o="#1677ff",s={fontSize:"12px"},i="h-[8.5px] transition-colors duration-300",d=e=>{let{sortOrder:r}=e,t="".concat(i," ").concat("ascend"===r?"":"table-column-sorter-inactive"),d="".concat(i," ").concat("descend"===r?"":"table-column-sorter-inactive"),u={...s,color:"ascend"===r?o:c},f={...s,color:"descend"===r?o:c};return(0,n.jsxs)("span",{className:"inline-flex flex-col justify-center cursor-pointer",children:[(0,n.jsx)(l.Z,{className:t,style:u}),(0,n.jsx)(a.Z,{className:d,style:f})]})},u=e=>{let{title:r,sortOrder:t,onClick:l}=e;return(0,n.jsxs)("div",{className:"flex basis-auto cursor-pointer table-column-sorters",onClick:l,children:[(0,n.jsx)("span",{className:"grow shrink font-semibold text-black/[.88]",children:r}),(0,n.jsx)(d,{sortOrder:t})]})};var f=t(3717),h=t(471);let m=e=>{let{href:r,iconSize:t="normal",children:l}=e;return(0,n.jsxs)(h.Z,{children:[(0,n.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:l}),"none"!==t&&(0,n.jsx)(f.Z,{style:{color:"#4B5563",fontSize:"small"===t?"12px":void 0}})]})};t(2265);let x=e=>Math.round(e>=400?e:400/Math.exp(1-e/400)),C=["Black","Grey","Brown","Green","Cyan","Blue","Yellow","Orange","Red"],y=e=>{let r=Math.min(Math.floor(e/400),C.length-2);return C[r+1]},p={difficultyBlackColor:"#404040",difficultyGreyColor:"#808080",difficultyBrownColor:"#804000",difficultyGreenColor:"#008000",difficultyCyanColor:"#00C0C0",difficultyBlueColor:"#0000FF",difficultyYellowColor:"#C0C000",difficultyOrangeColor:"#FF8000",difficultyRedColor:"#FF0000"},F=e=>{switch(e){case"Black":return p.difficultyBlackColor;case"Grey":return p.difficultyGreyColor;case"Brown":return p.difficultyBrownColor;case"Green":return p.difficultyGreenColor;case"Cyan":return p.difficultyCyanColor;case"Blue":return p.difficultyBlueColor;case"Yellow":return p.difficultyYellowColor;case"Orange":return p.difficultyOrangeColor;case"Red":return p.difficultyRedColor}},g=e=>{switch(e){case"Bronze":return{base:"#965C2C",highlight:"#FFDABD"};case"Silver":return{base:"#808080",highlight:"#FFFFFF"};case"Gold":return{base:"#FFD700",highlight:"#FFFFFF"}}},b=(e,r)=>{if("Bronze"===e||"Silver"===e||"Gold"===e){let r=g(e);return{borderColor:r.base,background:"linear-gradient(to right,         ".concat(r.base,", ").concat(r.highlight,", ").concat(r.base,")")}}{let t=F(e);return{borderColor:t,background:"border-box linear-gradient(to top,         ".concat(t," ").concat(100*r,"%,         rgba(0,0,0,0) ").concat(100*r,"%)")}}},j=e=>{let{color:r,rating:t}=e,l=b(r,t>=3200?1:t%400/400);return(0,n.jsx)("span",{className:"inline-block align-sub rounded-full border border-solid w-3.5 h-3.5 bg-origin-border",style:l})}}},function(e){e.O(0,[130,656,96,437,971,23,744],function(){return e(e.s=9485)}),_N_E=e.O()}]);