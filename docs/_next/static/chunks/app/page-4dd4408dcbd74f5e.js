(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9485:function(e,r,t){Promise.resolve().then(t.bind(t,5662))},5662:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return $}});var l=t(7437),n=t(3056),a=t(7394),i=t(7043),o=t(1935),s=t(7834),c=t(119),u=t(4352),d=t(3220),f=t(6659),h=t(2265);let y={required:"'${label}' is required!"},m=(e,r)=>!!r&&r.label.toLowerCase().includes(e.toLowerCase()),x=(e,r)=>{let t=e.label,l=r.label,n=t.toLowerCase().localeCompare(l.toLowerCase(),"en");return 0===n?t.localeCompare(l,"en"):n},C=e=>e.map(e=>({value:e,label:e})),p=(0,h.memo)(e=>{let{defaultValues:r,writers:t,isLoadingWriters:n,search:a,isSearching:i}=e,p=(0,h.useCallback)(e=>{a&&a(e)},[a]);return(0,l.jsxs)(c.Z,{className:"w-72",initialValues:r,validateMessages:y,onFinish:p,labelCol:{span:8},children:[(0,l.jsx)(c.Z.Item,{label:"Writer",name:"writer",rules:[{required:!0}],children:(0,l.jsx)(u.Z,{showSearch:!0,placeholder:"Search to Select",filterOption:m,filterSort:x,options:C(t),suffixIcon:n?(0,l.jsx)(o.Z,{style:{pointerEvents:"none"}}):void 0})}),(0,l.jsx)(c.Z.Item,{label:"Your User ID",name:"user",children:(0,l.jsx)(d.Z,{})}),(0,l.jsx)(c.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,l.jsx)(f.ZP,{type:"primary",htmlType:"submit",icon:(0,l.jsx)(s.Z,{}),loading:i,children:i?"Searching":"Search"})})]})});p.displayName="SearchForm";let F=(e,r)=>{let[t,l]=(0,h.useState)(e),[n,a]=(0,h.useState)(r);return[t,n,(0,h.useCallback)(e=>{l(e),a(e=>"descend"===e?"ascend":"descend")},[l,a])]},b=e=>{let[r,t]=(0,h.useState)(e);return[r,(0,h.useCallback)(e=>{t([e[0],e[1]])},[])]},g=["ABC","ARC"];var j=t(1469),v=t(5657),w=t(6001);let k={official:{count:"official",color:"#bfbfbf"},user:{count:"user",color:"#ffc069"}},B=e=>{let{editorialType:r}=e,t=k[r];return(0,l.jsx)(w.Z,{count:t.count,color:t.color,size:"small",style:{boxShadow:"none"}})};var S=t(471),D=t(7178),Z=t(5448),G=t(9523);let N=e=>e<3200?(0,v.Fx)(e):e<3600?"Bronze":e<4e3?"Silver":"Gold",I=e=>{let{difficulty:r}=e;if(void 0===r)return(0,l.jsx)("span",{children:(0,l.jsx)(G.Z,{title:"Difficulty is unavailable.",children:(0,l.jsx)(w.Z,{size:"small",count:(0,l.jsx)(Z.Z,{style:{color:"#22d3ee"}})})})});let t=N(r);return(0,l.jsx)("span",{children:(0,l.jsx)(G.Z,{title:"Difficulty: ".concat(r),children:(0,l.jsx)("span",{children:(0,l.jsx)(v.rK,{color:t,rating:r})})})})};var E=t(4700),O=t(1423),q=t(4184),z=t(7840);let R={Black:0,Grey:400,Brown:800,Green:1200,Cyan:1600,Blue:2e3,Yellow:2400,Orange:2800,Red:3200,Bronze:3600,Silver:4e3,Gold:4400},M=(e,r)=>{let t=R[e],l=r[0],n=r[1]-l;return 0===n?0:Math.max(0,Math.min(100,(t-l)/n*100))},_=(e,r)=>{switch(e){case"Grey":return"".concat(M("Grey",r),"%");case"Brown":return"".concat(M("Grey",r),"% ").concat(M("Brown",r),"%");case"Green":return"".concat(M("Brown",r),"% ").concat(M("Green",r),"%");case"Cyan":return"".concat(M("Green",r),"% ").concat(M("Cyan",r),"%");case"Blue":return"".concat(M("Cyan",r),"% ").concat(M("Blue",r),"%");case"Yellow":return"".concat(M("Blue",r),"% ").concat(M("Yellow",r),"%");case"Orange":return"".concat(M("Yellow",r),"% ").concat(M("Orange",r),"%");case"Red":return"".concat(M("Orange",r),"% ").concat(M("Red",r),"%");case"Bronze":return"".concat(M("Red",r),"%");case"Silver":return"".concat(M("Bronze",r),"%");case"Gold":return"".concat(M("Silver",r),"%")}},T=e=>"linear-gradient(to right, #808080 ".concat(_("Grey",e),", #804000 ").concat(_("Brown",e),", #008000 ").concat(_("Green",e),", #00C0C0 ").concat(_("Cyan",e),", #0000FF ").concat(_("Blue",e),", #C0C000 ").concat(_("Yellow",e),", #FF8000 ").concat(_("Orange",e),", #FF0000 ").concat(_("Red",e),", #965C2C ").concat(_("Bronze",e),", #FFDABD, #965C2C ").concat(_("Silver",e),", #808080 ").concat(_("Silver",e),", #FFFFFF, #808080 ").concat(_("Gold",e),", #FFD700 ").concat(_("Gold",e),", #FFFFFF, #FFD700 100.000%)"),Y=e=>{let{isCustomOpened:r,handleCustomOpenedChange:t,isDifficultyHidden:n,handleDifficultyHiddenChange:a,difficultyRange:i,updateDifficultyRange:o}=e,s=(0,h.useMemo)(()=>({track:{background:T(i)},rail:{background:"linear-gradient(to right, #808080 9.091%, #804000 9.091% 18.182%, #008000 18.182% 27.273%, #00C0C0 27.273% 36.364%, #0000FF 36.364% 45.455%, #C0C000 45.455% 54.545%, #FF8000 54.545% 63.636%, #FF0000 63.636% 71.111%, #965C2C 72.727%, #FFDABD, #965C2C 81.818%, #808080 81.818%, #FFFFFF, #808080 90.909%, #FFD700 90.909%, #FFFFFF, #FFD700 100.000%)",opacity:.3}}),[i]),u=[{key:"1",label:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"mr-1",children:(0,l.jsx)(E.Z,{})}),"Customize"]}),children:(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(c.Z.Item,{className:"mb-0",label:"Hide Difficulty",children:(0,l.jsx)(O.Z,{checked:n,onClick:e=>{a(e)}})}),(0,l.jsx)(c.Z.Item,{className:"mb-0",label:"Filter Difficulty",children:(0,l.jsx)(q.Z,{range:!0,onChange:o,min:0,max:4400,value:[i[0],i[1]],styles:s})})]})}];return(0,l.jsx)(z.Z,{items:u,activeKey:r?"1":void 0,onChange:e=>{t(e.includes("1"))}})},K={A:10,B:20,C:30,D:40,E:50,F:60,F2:61,G:70,H:80,Ex:81},A=e=>K[e],H=e=>e.map((e,r)=>({key:r.toString(),id:e.id,contest:e.contest,name:e.name,difficulty:e.difficulty,startEpochSecond:e.start_epoch_second,resultCode:e.result_code||"Yet",problemIndex:e.problem_index,order:r,editorialTypes:e.editorial_types,isExperimental:e.is_experimental})),L=[{dataIndex:"contest",key:"ID",width:110,sortDirections:[],defaultSortOrder:"ascend",sorter:(e,r)=>e.order-r.order,showSorterTooltip:!1,render:(e,r)=>"".concat(r.contest," - ").concat(r.problemIndex)},{title:"Title",dataIndex:"name",key:"Title",ellipsis:!0},{dataIndex:"difficulty",key:"diff",width:80,showSorterTooltip:!1,render:e=>e||"-"}],P=e=>{switch(e.resultCode){case"AC":return"bg-[#C3E6CB]";case"Trying":return"bg-[#FFEEBA]";case"Yet":return""}},Q=(e,r,t)=>{switch(r){case"ID":e.sort((e,r)=>e.startEpochSecond-r.startEpochSecond||A(e.problemIndex)-A(r.problemIndex));break;case"diff":e.sort((e,r)=>(e.difficulty||-1e5)-(r.difficulty||-1e5))}return"descend"===t&&e.reverse(),e.map((e,r)=>({...e,order:r}))},V=(e,r)=>{let[t,l]=r;return e.filter(e=>{let{difficulty:r}=e;return void 0===r?0===t&&4400===l:t<=r&&r<=l})},U=e=>{let{problems:r,isCustomOpened:t,handleCustomOpenedChange:n,isDifficultyHidden:i,handleDifficultyHiddenChange:o,difficultyRange:s,updateDifficultyRange:c,activeSorter:u,sortOrder:d,activateSorter:f}=e,y=(0,h.useMemo)(()=>H(r),[r]),m=(0,h.useMemo)(()=>Q(y,u,d),[y,u,d]),x=(0,h.useMemo)(()=>V(m,s),[m,s]),C=(0,h.useMemo)(()=>L.filter(e=>"diff"!==e.key||!i).map(e=>"Title"===e.key?{...e,render:(e,r)=>(0,l.jsxs)("div",{className:"flex",children:[i||(0,l.jsx)("span",{className:"mr-2 align-text-bottom",children:(0,l.jsx)(I,{difficulty:r.difficulty})}),!i&&r.isExperimental&&(0,l.jsx)("span",{children:"\uD83E\uDDEA"}),(0,l.jsx)("span",{className:"mr-4",children:(0,l.jsx)(v.Sr,{href:"https://atcoder.jp/contests/".concat(r.contest,"/tasks/").concat(r.id),iconSize:"none",children:e})}),(0,l.jsx)("div",{className:"flex-auto flex justify-end",children:(0,l.jsx)(S.Z,{size:"small",children:r.editorialTypes.map((e,r)=>(0,l.jsx)(B,{editorialType:e},r))})})]})}:e),[i]),p=(0,h.useCallback)(()=>f("ID"),[f]),F=(0,h.useCallback)(()=>f("diff"),[f]),b=(0,h.useMemo)(()=>C.map(e=>{switch(e.key){case"ID":return{...e,title:(0,l.jsx)(v.x0,{title:e.key,sortOrder:"ID"===u?d:null,onClick:p})};case"diff":return{...e,title:(0,l.jsx)(v.x0,{title:e.key,sortOrder:"diff"===u?d:null,onClick:F})};default:return e}}),[C,u,d,p,F]),g=(0,h.useMemo)(()=>(0,l.jsx)(Y,{isCustomOpened:t,handleCustomOpenedChange:n,isDifficultyHidden:i,handleDifficultyHiddenChange:o,difficultyRange:s,updateDifficultyRange:c}),[t,i,s,n,o,c]);return(0,l.jsx)(a.Z,{vertical:!0,children:(0,l.jsx)(D.Z,{columns:b,dataSource:x,pagination:{position:[],pageSize:1e3},className:"max-w-xl",rowClassName:P,title:()=>g,style:{minHeight:"120vh"}})})},W=(0,h.memo)(e=>{let{problems:r}=e,[t,n]=(0,h.useState)(!1),[a,i]=(0,h.useState)(!1),[o,s]=b([0,4400]),[c,u,d]=F("ID","descend"),f=(0,h.useCallback)(e=>{n(e)},[]),y=(0,h.useCallback)(e=>{i(e)},[]),m=g.map(e=>{let n=r.filter(r=>r.category===e);return{label:(0,l.jsxs)("span",{className:"mx-2",children:[e," (",(0,l.jsx)("span",{className:"mx-0.5",children:n.length}),")"]}),key:e,children:(0,l.jsx)(U,{problems:n,isCustomOpened:t,handleCustomOpenedChange:f,isDifficultyHidden:a,handleDifficultyHiddenChange:y,difficultyRange:o,updateDifficultyRange:s,activeSorter:c,sortOrder:u,activateSorter:d},e)}});return(0,l.jsx)(j.Z,{items:m,tabBarGutter:18,size:"middle",centered:!0})});function $(){let{searchConditions:e,writersHook:r,problemsHook:t,search:o}=(0,n.k)(),s=null==r?void 0:r.writersQuery.isError,c=null==t?void 0:t.problemsQuery.isError;return(0,l.jsxs)(a.Z,{align:"center",vertical:!0,children:[(s||c)&&(0,l.jsxs)("div",{className:"mb-4",children:[s&&(0,l.jsx)(i.Z,{message:(0,l.jsxs)(l.Fragment,{children:["Failed to load wirters."," ",(0,l.jsx)("span",{className:"text-[#1677FF] cursor-pointer hover:text-[#69B1FF] transition-colors duration-300",onClick:()=>r.writersQuery.refetch(),children:"Click here to try again."})]}),type:"error",showIcon:!0}),c&&(0,l.jsx)(i.Z,{message:"Failed to search problems.",type:"error",showIcon:!0})]}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(p,{defaultValues:e,writers:null==r?void 0:r.writers,isLoadingWriters:null==r?void 0:r.writersQuery.isLoading,search:o,isSearching:null==t?void 0:t.problemsQuery.isFetching})}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(W,{problems:t.modifiedProblems})})]})}W.displayName="SearchResult"},5657:function(e,r,t){"use strict";t.d(r,{x0:function(){return d},Sr:function(){return y},rK:function(){return j},Vb:function(){return m},Fx:function(){return C}});var l=t(7437),n=t(6824),a=t(9192);let i="#0000004a",o="#1677ff",s={fontSize:"12px"},c="h-[8.5px] transition-colors duration-300",u=e=>{let{sortOrder:r}=e,t="".concat(c," ").concat("ascend"===r?"":"table-column-sorter-inactive"),u="".concat(c," ").concat("descend"===r?"":"table-column-sorter-inactive"),d={...s,color:"ascend"===r?o:i},f={...s,color:"descend"===r?o:i};return(0,l.jsxs)("span",{className:"inline-flex flex-col justify-center cursor-pointer",children:[(0,l.jsx)(n.Z,{className:t,style:d}),(0,l.jsx)(a.Z,{className:u,style:f})]})},d=e=>{let{title:r,sortOrder:t,onClick:n}=e;return(0,l.jsxs)("div",{className:"flex basis-auto cursor-pointer table-column-sorters",onClick:n,children:[(0,l.jsx)("span",{className:"grow shrink font-semibold text-black/[.88]",children:r}),(0,l.jsx)(u,{sortOrder:t})]})};var f=t(3717),h=t(471);let y=e=>{let{href:r,iconSize:t="normal",children:n}=e;return(0,l.jsxs)(h.Z,{children:[(0,l.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:n}),"none"!==t&&(0,l.jsx)(f.Z,{style:{color:"#4B5563",fontSize:"small"===t?"12px":void 0}})]})};t(2265);let m=e=>Math.round(e>=400?e:400/Math.exp(1-e/400)),x=["Black","Grey","Brown","Green","Cyan","Blue","Yellow","Orange","Red"],C=e=>{let r=Math.min(Math.floor(e/400),x.length-2);return x[r+1]},p={difficultyBlackColor:"#404040",difficultyGreyColor:"#808080",difficultyBrownColor:"#804000",difficultyGreenColor:"#008000",difficultyCyanColor:"#00C0C0",difficultyBlueColor:"#0000FF",difficultyYellowColor:"#C0C000",difficultyOrangeColor:"#FF8000",difficultyRedColor:"#FF0000"},F=e=>{switch(e){case"Black":return p.difficultyBlackColor;case"Grey":return p.difficultyGreyColor;case"Brown":return p.difficultyBrownColor;case"Green":return p.difficultyGreenColor;case"Cyan":return p.difficultyCyanColor;case"Blue":return p.difficultyBlueColor;case"Yellow":return p.difficultyYellowColor;case"Orange":return p.difficultyOrangeColor;case"Red":return p.difficultyRedColor}},b=e=>{switch(e){case"Bronze":return{base:"#965C2C",highlight:"#FFDABD"};case"Silver":return{base:"#808080",highlight:"#FFFFFF"};case"Gold":return{base:"#FFD700",highlight:"#FFFFFF"}}},g=(e,r)=>{if("Bronze"===e||"Silver"===e||"Gold"===e){let r=b(e);return{borderColor:r.base,background:"linear-gradient(to right,         ".concat(r.base,", ").concat(r.highlight,", ").concat(r.base,")")}}{let t=F(e);return{borderColor:t,background:"border-box linear-gradient(to top,         ".concat(t," ").concat(100*r,"%,         rgba(0,0,0,0) ").concat(100*r,"%)")}}},j=e=>{let{color:r,rating:t}=e,n=g(r,t>=3200?1:t%400/400);return(0,l.jsx)("span",{className:"inline-block align-sub rounded-full border border-solid w-3.5 h-3.5 bg-origin-border",style:n})}},3056:function(e,r,t){"use strict";t.d(r,{c:function(){return g},k:function(){return F}});var l=t(7437),n=t(5657),a=t(5355);let i=t(2126).Z.create({baseURL:"https://qecir5jdra.execute-api.ap-northeast-1.amazonaws.com/v1"}),o=e=>i(e).then(e=>{let{data:r}=e;return r}),s=(e,r)=>o({url:"/problems",method:"GET",params:e,signal:r}),c=e=>["/problems",...e?[e]:[]],u=(e,r)=>{var t;let{query:l}=null!=r?r:{};return{queryKey:null!==(t=null==l?void 0:l.queryKey)&&void 0!==t?t:c(e),queryFn:r=>{let{signal:t}=r;return s(e,t)},...l}},d=e=>({...e,difficulty:e.difficulty&&(0,n.Vb)(e.difficulty)}),f=e=>e.map(e=>d(e)),h=e=>{let r=function(e,r){let t=u(e,r),l=(0,a.a)(t);return l.queryKey=t.queryKey,l}(e,{query:{enabled:!!e,initialData:[]}}),t=r.data,l=t&&f(t);return{problemsQuery:r,problems:t,modifiedProblems:l}},y=e=>o({url:"/writers",method:"GET",signal:e}),m=()=>["/writers"],x=e=>{var r;let{query:t}=null!=e?e:{};return{queryKey:null!==(r=null==t?void 0:t.queryKey)&&void 0!==r?r:m(),queryFn:e=>{let{signal:r}=e;return y(r)},...t}},C=()=>{let e=function(e){let r=x(e),t=(0,a.a)(r);return t.queryKey=r.queryKey,t}({query:{initialData:[]}}),r=e.data;return{writersQuery:e,writers:r}};var p=t(2265);let[F,b]=(()=>{let e=(0,p.createContext)(null);return[()=>{let r=(0,p.useContext)(e);if(null===r)throw Error("useCtx must be inside a Provider with a value");return r},e.Provider]})(),g=e=>{let{children:r}=e,[t,n]=(0,p.useState)(void 0),a=C(),i=h(t),o=(0,p.useCallback)(e=>{n(e)},[]);return(0,l.jsx)(b,{value:{searchConditions:t,writersHook:a,problemsHook:i,search:o},children:r})}}},function(e){e.O(0,[130,19,656,879,971,23,744],function(){return e(e.s=9485)}),_N_E=e.O()}]);