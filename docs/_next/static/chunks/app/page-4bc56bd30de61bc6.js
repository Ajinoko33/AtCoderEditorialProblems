(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{449:function(e,r,t){Promise.resolve().then(t.bind(t,3370))},3370:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return U}});var n=t(7437),l=t(2265);let a=(e,r)=>{let[t,n]=(0,l.useState)(e),[a,c]=(0,l.useState)(r);return[t,a,(0,l.useCallback)(e=>{n(e),c(e=>"descend"===e?"ascend":"descend")},[n,c])]},c=e=>{let[r,t]=(0,l.useState)(e);return[r,(0,l.useCallback)(e=>{t([e[0],e[1]])},[])]},o=()=>{let[e,r]=(0,l.useState)(!1);return[e,(0,l.useCallback)(()=>{r(e=>!e)},[])]};var s=t(7893),i=t(2375),d=t(6592);let u=t(2173).Z.create({baseURL:"https://qecir5jdra.execute-api.ap-northeast-1.amazonaws.com/v1"});var f=t(7898),h=t(5393),m=t(4023),C=t(1468),x=t(5057),y=t(762);let F=e=>({id:e.id,contest:e.contest,category:e.category,name:e.name,difficulty:e.difficulty,startEpochSecond:e.start_epoch_second,resultCode:e.result_code||"Yet",problemIndex:e.problem_index,isOfficial:e.is_official,isExperimental:e.is_experimental}),g={required:"'${label}' is required!"},p=e=>e.map(e=>({value:e,label:e})),b=(0,l.memo)(e=>{let{handleProblemsChange:r,handleLoadingWritersErrorChange:t,handleSearchingErrorChange:a,retryTrigger:c}=e,[o,s]=(0,l.useState)([]),[i,b]=(0,l.useState)(!1),[j,w]=(0,l.useState)(!1);(0,l.useEffect)(()=>{b(!0),t(!1),u.get("/writers").then(e=>{s(e.data)}).catch(e=>{t(!0),console.log("ERROR when getting writers!!"),console.log(e)}).then(()=>{b(!1)})},[c,t]);let k=(0,l.useCallback)(e=>{w(!0),a(!1),u.get("/problems",{params:{writer:e.writer,user:e.user||void 0}}).then(e=>{r(e.data.map(e=>({...F(e),difficulty:e.difficulty&&(0,d.Vb)(e.difficulty)})))}).catch(e=>{a(!0),console.log("ERROR when getting problems!!"),console.log(e)}).then(()=>{w(!1)})},[r,a]);return(0,n.jsxs)(m.Z,{className:"w-72",validateMessages:g,onFinish:k,labelCol:{span:8},children:[(0,n.jsx)(m.Z.Item,{label:"Writer",name:"writer",rules:[{required:!0}],children:(0,n.jsx)(C.Z,{showSearch:!0,placeholder:"Search to Select",filterSort:(e,r)=>{var t,n;return(null!==(t=null==e?void 0:e.label)&&void 0!==t?t:"").toLowerCase().localeCompare((null!==(n=null==r?void 0:r.label)&&void 0!==n?n:"").toLowerCase())},options:p(o),suffixIcon:i?(0,n.jsx)(f.Z,{style:{pointerEvents:"none"}}):void 0})}),(0,n.jsx)(m.Z.Item,{label:"Your User ID",name:"user",children:(0,n.jsx)(x.Z,{})}),(0,n.jsx)(m.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,n.jsx)(y.ZP,{type:"primary",htmlType:"submit",icon:(0,n.jsx)(h.Z,{}),loading:j,children:j?"Searching":"Search"})})]})});b.displayName="SearchForm";let j=["ABC","ARC"];var w=t(1787),k=t(8851),v=t(6927),S=t(7654),B=t(5916);let Z=e=>e<3200?(0,d.Fx)(e):e<3600?"Bronze":e<4e3?"Silver":"Gold",D=e=>{let{difficulty:r}=e;if(void 0===r)return(0,n.jsx)("span",{children:(0,n.jsx)(S.Z,{title:"Difficulty is unavailable.",children:(0,n.jsx)(B.Z,{size:"small",count:(0,n.jsx)(v.Z,{style:{color:"#22d3ee"}})})})});let t=Z(r);return(0,n.jsx)("span",{children:(0,n.jsx)(S.Z,{title:"Difficulty: ".concat(r),children:(0,n.jsx)("span",{children:(0,n.jsx)(d.rK,{color:t,rating:r})})})})};var G=t(960),N=t(2969),O=t(645),I=t(434);let R={Black:0,Grey:400,Brown:800,Green:1200,Cyan:1600,Blue:2e3,Yellow:2400,Orange:2800,Red:3200,Bronze:3600,Silver:4e3,Gold:4400},E=(e,r)=>{let t=R[e],n=r[0],l=r[1]-n;return 0===l?0:Math.max(0,Math.min(100,(t-n)/l*100))},z=(e,r)=>{switch(e){case"Grey":return"".concat(E("Grey",r),"%");case"Brown":return"".concat(E("Grey",r),"% ").concat(E("Brown",r),"%");case"Green":return"".concat(E("Brown",r),"% ").concat(E("Green",r),"%");case"Cyan":return"".concat(E("Green",r),"% ").concat(E("Cyan",r),"%");case"Blue":return"".concat(E("Cyan",r),"% ").concat(E("Blue",r),"%");case"Yellow":return"".concat(E("Blue",r),"% ").concat(E("Yellow",r),"%");case"Orange":return"".concat(E("Yellow",r),"% ").concat(E("Orange",r),"%");case"Red":return"".concat(E("Orange",r),"% ").concat(E("Red",r),"%");case"Bronze":return"".concat(E("Red",r),"%");case"Silver":return"".concat(E("Bronze",r),"%");case"Gold":return"".concat(E("Silver",r),"%")}},M=e=>"linear-gradient(to right, #808080 ".concat(z("Grey",e),", #804000 ").concat(z("Brown",e),", #008000 ").concat(z("Green",e),", #00C0C0 ").concat(z("Cyan",e),", #0000FF ").concat(z("Blue",e),", #C0C000 ").concat(z("Yellow",e),", #FF8000 ").concat(z("Orange",e),", #FF0000 ").concat(z("Red",e),", #965C2C ").concat(z("Bronze",e),", #FFDABD, #965C2C ").concat(z("Silver",e),", #808080 ").concat(z("Silver",e),", #FFFFFF, #808080 ").concat(z("Gold",e),", #FFD700 ").concat(z("Gold",e),", #FFFFFF, #FFD700 100.000%)"),_=e=>{let{isCustomOpened:r,handleCustomOpenedChange:t,isDifficultyHidden:a,handleDifficultyHiddenChange:c,difficultyRange:o,updateDifficultyRange:s}=e,i=(0,l.useMemo)(()=>({track:{background:M(o)},rail:{background:"linear-gradient(to right, #808080 9.091%, #804000 9.091% 18.182%, #008000 18.182% 27.273%, #00C0C0 27.273% 36.364%, #0000FF 36.364% 45.455%, #C0C000 45.455% 54.545%, #FF8000 54.545% 63.636%, #FF0000 63.636% 71.111%, #965C2C 72.727%, #FFDABD, #965C2C 81.818%, #808080 81.818%, #FFFFFF, #808080 90.909%, #FFD700 90.909%, #FFFFFF, #FFD700 100.000%)",opacity:.3}}),[o]),d=[{key:"1",label:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"mr-1",children:(0,n.jsx)(G.Z,{})}),"Customize"]}),children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(m.Z.Item,{className:"mb-0",label:"Hide Difficulty",children:(0,n.jsx)(N.Z,{checked:a,onClick:e=>{c(e)}})}),(0,n.jsx)(m.Z.Item,{className:"mb-0",label:"Filter Difficulty",children:(0,n.jsx)(O.Z,{range:!0,onChange:s,min:0,max:4400,value:[o[0],o[1]],styles:i})})]})}];return(0,n.jsx)(I.Z,{items:d,activeKey:r?"1":void 0,onChange:e=>{t(e.includes("1"))}})},Y={A:10,B:20,C:30,D:40,E:50,F:60,F2:61,G:70,H:80,Ex:81},A=e=>Y[e],T=[{dataIndex:"contest",key:"ID",width:110,sortDirections:[],defaultSortOrder:"ascend",sorter:(e,r)=>e.order-r.order,showSorterTooltip:!1,render:(e,r)=>"".concat(r.contest," - ").concat(r.problemIndex)},{title:"Title",dataIndex:"name",key:"Title",ellipsis:!0},{dataIndex:"difficulty",key:"diff",width:80,showSorterTooltip:!1,render:e=>e||"-"}],H=e=>{switch(e.resultCode){case"AC":return"bg-[#C3E6CB]";case"Trying":return"bg-[#FFEEBA]";case"Yet":return""}},q=(e,r,t)=>{switch(r){case"ID":e.sort((e,r)=>e.startEpochSecond-r.startEpochSecond||A(e.problemIndex)-A(r.problemIndex));break;case"diff":e.sort((e,r)=>(e.difficulty||-1e5)-(r.difficulty||-1e5))}return"descend"===t&&e.reverse(),e.map((e,r)=>({...e,order:r}))},L=(e,r)=>{let[t,n]=r;return e.filter(e=>{let{difficulty:r}=e;return void 0===r?0===t&&4400===n:t<=r&&r<=n})},K=e=>{let{problems:r,isCustomOpened:t,handleCustomOpenedChange:a,isDifficultyHidden:c,handleDifficultyHiddenChange:o,difficultyRange:i,updateDifficultyRange:u,activeSorter:f,sortOrder:h,activateSorter:m}=e,C=(0,l.useMemo)(()=>r.map((e,r)=>({...e,key:r.toString(),order:r})),[r]),x=(0,l.useMemo)(()=>q(C,f,h),[C,f,h]),y=(0,l.useMemo)(()=>L(x,i),[x,i]),F=(0,l.useMemo)(()=>T.filter(e=>"diff"!==e.key||!c).map(e=>"Title"===e.key?{...e,render:(e,r)=>(0,n.jsxs)(n.Fragment,{children:[c||(0,n.jsx)("span",{className:"mr-2",children:(0,n.jsx)(D,{difficulty:r.difficulty})}),(0,n.jsx)(d.Sr,{href:"https://atcoder.jp/contests/".concat(r.contest,"/tasks/").concat(r.id),iconSize:"none",children:e})]})}:e),[c]),g=(0,l.useCallback)(()=>m("ID"),[m]),p=(0,l.useCallback)(()=>m("diff"),[m]),b=(0,l.useMemo)(()=>F.map(e=>{switch(e.key){case"ID":return{...e,title:(0,n.jsx)(d.x0,{title:e.key,sortOrder:"ID"===f?h:null,onClick:g})};case"diff":return{...e,title:(0,n.jsx)(d.x0,{title:e.key,sortOrder:"diff"===f?h:null,onClick:p})};default:return e}}),[F,f,h,g,p]),j=(0,l.useMemo)(()=>(0,n.jsx)(_,{isCustomOpened:t,handleCustomOpenedChange:a,isDifficultyHidden:c,handleDifficultyHiddenChange:o,difficultyRange:i,updateDifficultyRange:u}),[t,c,i,a,o,u]);return(0,n.jsx)(s.Z,{vertical:!0,children:(0,n.jsx)(k.Z,{columns:b,dataSource:y,pagination:{position:[],pageSize:1e3},className:"max-w-xl",rowClassName:H,title:()=>j,style:{minHeight:"100vh"}})})},P=(0,l.memo)(e=>{let{problems:r}=e,[t,o]=(0,l.useState)(!1),[s,i]=(0,l.useState)(!1),[d,u]=c([0,4400]),[f,h,m]=a("ID","descend"),C=(0,l.useCallback)(e=>{o(e)},[]),x=(0,l.useCallback)(e=>{i(e)},[]),y=j.map(e=>{let l=r.filter(r=>r.category===e);return{label:(0,n.jsxs)("span",{className:"mx-2",children:[e," (",(0,n.jsx)("span",{className:"mx-0.5",children:l.length}),")"]}),key:e,children:(0,n.jsx)(K,{problems:l,isCustomOpened:t,handleCustomOpenedChange:C,isDifficultyHidden:s,handleDifficultyHiddenChange:x,difficultyRange:d,updateDifficultyRange:u,activeSorter:f,sortOrder:h,activateSorter:m},e)}});return(0,n.jsx)(w.Z,{items:y,tabBarGutter:18,size:"middle",centered:!0})});function U(){let[e,r]=(0,l.useState)([]),[t,a]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[u,f]=o(),h=(0,l.useCallback)(e=>{r(e)},[]),m=(0,l.useCallback)(e=>{a(e)},[]),C=(0,l.useCallback)(e=>{d(e)},[]);return(0,n.jsxs)(s.Z,{align:"center",vertical:!0,children:[(t||c)&&(0,n.jsxs)("div",{className:"mb-4",children:[t&&(0,n.jsx)(i.Z,{message:(0,n.jsxs)(n.Fragment,{children:["Failed to load wirters."," ",(0,n.jsx)("span",{className:"text-[#1677FF] cursor-pointer hover:text-[#69B1FF] transition-colors duration-300",onClick:f,children:"Click here to try again."})]}),type:"error",showIcon:!0}),c&&(0,n.jsx)(i.Z,{message:"Failed to search problems.",type:"error",showIcon:!0})]}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(b,{handleProblemsChange:h,handleLoadingWritersErrorChange:m,handleSearchingErrorChange:C,retryTrigger:u})}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(P,{problems:e})})]})}P.displayName="SearchResult"},6592:function(e,r,t){"use strict";t.d(r,{x0:function(){return u},Sr:function(){return m},rK:function(){return j},Vb:function(){return C},Fx:function(){return y}});var n=t(7437),l=t(7584),a=t(2939);let c="#0000004a",o="#1677ff",s={fontSize:"12px"},i="h-[8.5px] transition-colors duration-300",d=e=>{let{sortOrder:r}=e,t="".concat(i," ").concat("ascend"===r?"":"table-column-sorter-inactive"),d="".concat(i," ").concat("descend"===r?"":"table-column-sorter-inactive"),u={...s,color:"ascend"===r?o:c},f={...s,color:"descend"===r?o:c};return(0,n.jsxs)("span",{className:"inline-flex flex-col justify-center cursor-pointer",children:[(0,n.jsx)(l.Z,{className:t,style:u}),(0,n.jsx)(a.Z,{className:d,style:f})]})},u=e=>{let{title:r,sortOrder:t,onClick:l}=e;return(0,n.jsxs)("div",{className:"flex basis-auto cursor-pointer table-column-sorters",onClick:l,children:[(0,n.jsx)("span",{className:"grow shrink font-semibold text-black/[.88]",children:r}),(0,n.jsx)(d,{sortOrder:t})]})};var f=t(1769),h=t(1351);let m=e=>{let{href:r,iconSize:t="normal",children:l}=e;return(0,n.jsxs)(h.Z,{children:[(0,n.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:l}),"none"!==t&&(0,n.jsx)(f.Z,{style:{color:"#4B5563",fontSize:"small"===t?"12px":void 0}})]})};t(2265);let C=e=>Math.round(e>=400?e:400/Math.exp(1-e/400)),x=["Black","Grey","Brown","Green","Cyan","Blue","Yellow","Orange","Red"],y=e=>{let r=Math.min(Math.floor(e/400),x.length-2);return x[r+1]},F={difficultyBlackColor:"#404040",difficultyGreyColor:"#808080",difficultyBrownColor:"#804000",difficultyGreenColor:"#008000",difficultyCyanColor:"#00C0C0",difficultyBlueColor:"#0000FF",difficultyYellowColor:"#C0C000",difficultyOrangeColor:"#FF8000",difficultyRedColor:"#FF0000"},g=e=>{switch(e){case"Black":return F.difficultyBlackColor;case"Grey":return F.difficultyGreyColor;case"Brown":return F.difficultyBrownColor;case"Green":return F.difficultyGreenColor;case"Cyan":return F.difficultyCyanColor;case"Blue":return F.difficultyBlueColor;case"Yellow":return F.difficultyYellowColor;case"Orange":return F.difficultyOrangeColor;case"Red":return F.difficultyRedColor}},p=e=>{switch(e){case"Bronze":return{base:"#965C2C",highlight:"#FFDABD"};case"Silver":return{base:"#808080",highlight:"#FFFFFF"};case"Gold":return{base:"#FFD700",highlight:"#FFFFFF"}}},b=(e,r)=>{if("Bronze"===e||"Silver"===e||"Gold"===e){let r=p(e);return{borderColor:r.base,background:"linear-gradient(to right,         ".concat(r.base,", ").concat(r.highlight,", ").concat(r.base,")")}}{let t=g(e);return{borderColor:t,background:"border-box linear-gradient(to top,         ".concat(t," ").concat(100*r,"%,         rgba(0,0,0,0) ").concat(100*r,"%)")}}},j=e=>{let{color:r,rating:t}=e,l=b(r,t>=3200?1:t%400/400);return(0,n.jsx)("span",{className:"inline-block align-sub rounded-full border border-solid w-3.5 h-3.5 bg-origin-border",style:l})}}},function(e){e.O(0,[383,405,60,252,971,938,744],function(){return e(e.s=449)}),_N_E=e.O()}]);