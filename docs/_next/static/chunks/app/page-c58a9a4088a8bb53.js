(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{449:function(e,r,t){Promise.resolve().then(t.bind(t,6012))},6012:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return $}});var l=t(7437),n=t(2265);let a=(e,r)=>{let[t,l]=(0,n.useState)(e),[a,c]=(0,n.useState)(r);return[t,a,(0,n.useCallback)(e=>{l(e),c(e=>"descend"===e?"ascend":"descend")},[l,c])]},c=e=>{let[r,t]=(0,n.useState)(e);return[r,(0,n.useCallback)(e=>{t([e[0],e[1]])},[])]},o=()=>{let[e,r]=(0,n.useState)(!1);return[e,(0,n.useCallback)(()=>{r(e=>!e)},[])]};var s=t(7893),i=t(2375),d=t(6592);let u=t(2173).Z.create({baseURL:"https://qecir5jdra.execute-api.ap-northeast-1.amazonaws.com/v1"});var f=t(7898),h=t(5393),m=t(4023),x=t(1468),y=t(5057),C=t(762);let p=e=>({id:e.id,contest:e.contest,category:e.category,name:e.name,difficulty:e.difficulty,startEpochSecond:e.start_epoch_second,resultCode:e.result_code||"Yet",problemIndex:e.problem_index,editorialTypes:e.editorial_types,isExperimental:e.is_experimental}),F={required:"'${label}' is required!"},g=e=>e.map(e=>({value:e,label:e})),b=(0,n.memo)(e=>{let{handleProblemsChange:r,handleLoadingWritersErrorChange:t,handleSearchingErrorChange:a,retryTrigger:c}=e,[o,s]=(0,n.useState)([]),[i,b]=(0,n.useState)(!1),[j,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>{b(!0),t(!1),u.get("/writers").then(e=>{s(e.data)}).catch(e=>{t(!0),console.log("ERROR when getting writers!!"),console.log(e)}).then(()=>{b(!1)})},[c,t]);let v=(0,n.useCallback)(e=>{w(!0),a(!1),u.get("/problems",{params:{writer:e.writer,user:e.user||void 0}}).then(e=>{r(e.data.map(e=>({...p(e),difficulty:e.difficulty&&(0,d.Vb)(e.difficulty)})))}).catch(e=>{a(!0),console.log("ERROR when getting problems!!"),console.log(e)}).then(()=>{w(!1)})},[r,a]);return(0,l.jsxs)(m.Z,{className:"w-72",validateMessages:F,onFinish:v,labelCol:{span:8},children:[(0,l.jsx)(m.Z.Item,{label:"Writer",name:"writer",rules:[{required:!0}],children:(0,l.jsx)(x.Z,{showSearch:!0,placeholder:"Search to Select",filterSort:(e,r)=>{var t,l;return(null!==(t=null==e?void 0:e.label)&&void 0!==t?t:"").toLowerCase().localeCompare((null!==(l=null==r?void 0:r.label)&&void 0!==l?l:"").toLowerCase())},options:g(o),suffixIcon:i?(0,l.jsx)(f.Z,{style:{pointerEvents:"none"}}):void 0})}),(0,l.jsx)(m.Z.Item,{label:"Your User ID",name:"user",children:(0,l.jsx)(y.Z,{})}),(0,l.jsx)(m.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,l.jsx)(C.ZP,{type:"primary",htmlType:"submit",icon:(0,l.jsx)(h.Z,{}),loading:j,children:j?"Searching":"Search"})})]})});b.displayName="SearchForm";let j=["ABC","ARC"];var w=t(1787),v=t(5916);let k={official:{count:"official",color:"#bfbfbf"},user:{count:"user",color:"#ffc069"}},S=e=>{let{editorialType:r}=e,t=k[r];return(0,l.jsx)(v.Z,{count:t.count,color:t.color,size:"small",style:{boxShadow:"none"}})};var B=t(1351),D=t(8851),Z=t(6927),G=t(7654);let N=e=>e<3200?(0,d.Fx)(e):e<3600?"Bronze":e<4e3?"Silver":"Gold",I=e=>{let{difficulty:r}=e;if(void 0===r)return(0,l.jsx)("span",{children:(0,l.jsx)(G.Z,{title:"Difficulty is unavailable.",children:(0,l.jsx)(v.Z,{size:"small",count:(0,l.jsx)(Z.Z,{style:{color:"#22d3ee"}})})})});let t=N(r);return(0,l.jsx)("span",{children:(0,l.jsx)(G.Z,{title:"Difficulty: ".concat(r),children:(0,l.jsx)("span",{children:(0,l.jsx)(d.rK,{color:t,rating:r})})})})};var O=t(960),R=t(2969),E=t(645),z=t(434);let M={Black:0,Grey:400,Brown:800,Green:1200,Cyan:1600,Blue:2e3,Yellow:2400,Orange:2800,Red:3200,Bronze:3600,Silver:4e3,Gold:4400},_=(e,r)=>{let t=M[e],l=r[0],n=r[1]-l;return 0===n?0:Math.max(0,Math.min(100,(t-l)/n*100))},Y=(e,r)=>{switch(e){case"Grey":return"".concat(_("Grey",r),"%");case"Brown":return"".concat(_("Grey",r),"% ").concat(_("Brown",r),"%");case"Green":return"".concat(_("Brown",r),"% ").concat(_("Green",r),"%");case"Cyan":return"".concat(_("Green",r),"% ").concat(_("Cyan",r),"%");case"Blue":return"".concat(_("Cyan",r),"% ").concat(_("Blue",r),"%");case"Yellow":return"".concat(_("Blue",r),"% ").concat(_("Yellow",r),"%");case"Orange":return"".concat(_("Yellow",r),"% ").concat(_("Orange",r),"%");case"Red":return"".concat(_("Orange",r),"% ").concat(_("Red",r),"%");case"Bronze":return"".concat(_("Red",r),"%");case"Silver":return"".concat(_("Bronze",r),"%");case"Gold":return"".concat(_("Silver",r),"%")}},T=e=>"linear-gradient(to right, #808080 ".concat(Y("Grey",e),", #804000 ").concat(Y("Brown",e),", #008000 ").concat(Y("Green",e),", #00C0C0 ").concat(Y("Cyan",e),", #0000FF ").concat(Y("Blue",e),", #C0C000 ").concat(Y("Yellow",e),", #FF8000 ").concat(Y("Orange",e),", #FF0000 ").concat(Y("Red",e),", #965C2C ").concat(Y("Bronze",e),", #FFDABD, #965C2C ").concat(Y("Silver",e),", #808080 ").concat(Y("Silver",e),", #FFFFFF, #808080 ").concat(Y("Gold",e),", #FFD700 ").concat(Y("Gold",e),", #FFFFFF, #FFD700 100.000%)"),A=e=>{let{isCustomOpened:r,handleCustomOpenedChange:t,isDifficultyHidden:a,handleDifficultyHiddenChange:c,difficultyRange:o,updateDifficultyRange:s}=e,i=(0,n.useMemo)(()=>({track:{background:T(o)},rail:{background:"linear-gradient(to right, #808080 9.091%, #804000 9.091% 18.182%, #008000 18.182% 27.273%, #00C0C0 27.273% 36.364%, #0000FF 36.364% 45.455%, #C0C000 45.455% 54.545%, #FF8000 54.545% 63.636%, #FF0000 63.636% 71.111%, #965C2C 72.727%, #FFDABD, #965C2C 81.818%, #808080 81.818%, #FFFFFF, #808080 90.909%, #FFD700 90.909%, #FFFFFF, #FFD700 100.000%)",opacity:.3}}),[o]),d=[{key:"1",label:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"mr-1",children:(0,l.jsx)(O.Z,{})}),"Customize"]}),children:(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(m.Z.Item,{className:"mb-0",label:"Hide Difficulty",children:(0,l.jsx)(R.Z,{checked:a,onClick:e=>{c(e)}})}),(0,l.jsx)(m.Z.Item,{className:"mb-0",label:"Filter Difficulty",children:(0,l.jsx)(E.Z,{range:!0,onChange:s,min:0,max:4400,value:[o[0],o[1]],styles:i})})]})}];return(0,l.jsx)(z.Z,{items:d,activeKey:r?"1":void 0,onChange:e=>{t(e.includes("1"))}})},H={A:10,B:20,C:30,D:40,E:50,F:60,F2:61,G:70,H:80,Ex:81},q=e=>H[e],L=[{dataIndex:"contest",key:"ID",width:110,sortDirections:[],defaultSortOrder:"ascend",sorter:(e,r)=>e.order-r.order,showSorterTooltip:!1,render:(e,r)=>"".concat(r.contest," - ").concat(r.problemIndex)},{title:"Title",dataIndex:"name",key:"Title",ellipsis:!0},{dataIndex:"difficulty",key:"diff",width:80,showSorterTooltip:!1,render:e=>e||"-"}],K=e=>{switch(e.resultCode){case"AC":return"bg-[#C3E6CB]";case"Trying":return"bg-[#FFEEBA]";case"Yet":return""}},P=(e,r,t)=>{switch(r){case"ID":e.sort((e,r)=>e.startEpochSecond-r.startEpochSecond||q(e.problemIndex)-q(r.problemIndex));break;case"diff":e.sort((e,r)=>(e.difficulty||-1e5)-(r.difficulty||-1e5))}return"descend"===t&&e.reverse(),e.map((e,r)=>({...e,order:r}))},U=(e,r)=>{let[t,l]=r;return e.filter(e=>{let{difficulty:r}=e;return void 0===r?0===t&&4400===l:t<=r&&r<=l})},V=e=>{let{problems:r,isCustomOpened:t,handleCustomOpenedChange:a,isDifficultyHidden:c,handleDifficultyHiddenChange:o,difficultyRange:i,updateDifficultyRange:u,activeSorter:f,sortOrder:h,activateSorter:m}=e,x=(0,n.useMemo)(()=>r.map((e,r)=>({...e,key:r.toString(),order:r})),[r]),y=(0,n.useMemo)(()=>P(x,f,h),[x,f,h]),C=(0,n.useMemo)(()=>U(y,i),[y,i]),p=(0,n.useMemo)(()=>L.filter(e=>"diff"!==e.key||!c).map(e=>"Title"===e.key?{...e,render:(e,r)=>(0,l.jsxs)("div",{className:"flex",children:[c||(0,l.jsx)("span",{className:"mr-2 align-text-bottom",children:(0,l.jsx)(I,{difficulty:r.difficulty})}),!c&&r.isExperimental&&(0,l.jsx)("span",{children:"\uD83E\uDDEA"}),(0,l.jsx)("span",{className:"mr-4",children:(0,l.jsx)(d.Sr,{href:"https://atcoder.jp/contests/".concat(r.contest,"/tasks/").concat(r.id),iconSize:"none",children:e})}),(0,l.jsx)("div",{className:"flex-auto flex justify-end",children:(0,l.jsx)(B.Z,{size:"small",children:r.editorialTypes.map((e,r)=>(0,l.jsx)(S,{editorialType:e},r))})})]})}:e),[c]),F=(0,n.useCallback)(()=>m("ID"),[m]),g=(0,n.useCallback)(()=>m("diff"),[m]),b=(0,n.useMemo)(()=>p.map(e=>{switch(e.key){case"ID":return{...e,title:(0,l.jsx)(d.x0,{title:e.key,sortOrder:"ID"===f?h:null,onClick:F})};case"diff":return{...e,title:(0,l.jsx)(d.x0,{title:e.key,sortOrder:"diff"===f?h:null,onClick:g})};default:return e}}),[p,f,h,F,g]),j=(0,n.useMemo)(()=>(0,l.jsx)(A,{isCustomOpened:t,handleCustomOpenedChange:a,isDifficultyHidden:c,handleDifficultyHiddenChange:o,difficultyRange:i,updateDifficultyRange:u}),[t,c,i,a,o,u]);return(0,l.jsx)(s.Z,{vertical:!0,children:(0,l.jsx)(D.Z,{columns:b,dataSource:C,pagination:{position:[],pageSize:1e3},className:"max-w-xl",rowClassName:K,title:()=>j,style:{minHeight:"120vh"}})})},W=(0,n.memo)(e=>{let{problems:r}=e,[t,o]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1),[d,u]=c([0,4400]),[f,h,m]=a("ID","descend"),x=(0,n.useCallback)(e=>{o(e)},[]),y=(0,n.useCallback)(e=>{i(e)},[]),C=j.map(e=>{let n=r.filter(r=>r.category===e);return{label:(0,l.jsxs)("span",{className:"mx-2",children:[e," (",(0,l.jsx)("span",{className:"mx-0.5",children:n.length}),")"]}),key:e,children:(0,l.jsx)(V,{problems:n,isCustomOpened:t,handleCustomOpenedChange:x,isDifficultyHidden:s,handleDifficultyHiddenChange:y,difficultyRange:d,updateDifficultyRange:u,activeSorter:f,sortOrder:h,activateSorter:m},e)}});return(0,l.jsx)(w.Z,{items:C,tabBarGutter:18,size:"middle",centered:!0})});function $(){let[e,r]=(0,n.useState)([]),[t,a]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,f]=o(),h=(0,n.useCallback)(e=>{r(e)},[]),m=(0,n.useCallback)(e=>{a(e)},[]),x=(0,n.useCallback)(e=>{d(e)},[]);return(0,l.jsxs)(s.Z,{align:"center",vertical:!0,children:[(t||c)&&(0,l.jsxs)("div",{className:"mb-4",children:[t&&(0,l.jsx)(i.Z,{message:(0,l.jsxs)(l.Fragment,{children:["Failed to load wirters."," ",(0,l.jsx)("span",{className:"text-[#1677FF] cursor-pointer hover:text-[#69B1FF] transition-colors duration-300",onClick:f,children:"Click here to try again."})]}),type:"error",showIcon:!0}),c&&(0,l.jsx)(i.Z,{message:"Failed to search problems.",type:"error",showIcon:!0})]}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(b,{handleProblemsChange:h,handleLoadingWritersErrorChange:m,handleSearchingErrorChange:x,retryTrigger:u})}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(W,{problems:e})})]})}W.displayName="SearchResult"},6592:function(e,r,t){"use strict";t.d(r,{x0:function(){return u},Sr:function(){return m},rK:function(){return j},Vb:function(){return x},Fx:function(){return C}});var l=t(7437),n=t(7584),a=t(2939);let c="#0000004a",o="#1677ff",s={fontSize:"12px"},i="h-[8.5px] transition-colors duration-300",d=e=>{let{sortOrder:r}=e,t="".concat(i," ").concat("ascend"===r?"":"table-column-sorter-inactive"),d="".concat(i," ").concat("descend"===r?"":"table-column-sorter-inactive"),u={...s,color:"ascend"===r?o:c},f={...s,color:"descend"===r?o:c};return(0,l.jsxs)("span",{className:"inline-flex flex-col justify-center cursor-pointer",children:[(0,l.jsx)(n.Z,{className:t,style:u}),(0,l.jsx)(a.Z,{className:d,style:f})]})},u=e=>{let{title:r,sortOrder:t,onClick:n}=e;return(0,l.jsxs)("div",{className:"flex basis-auto cursor-pointer table-column-sorters",onClick:n,children:[(0,l.jsx)("span",{className:"grow shrink font-semibold text-black/[.88]",children:r}),(0,l.jsx)(d,{sortOrder:t})]})};var f=t(1769),h=t(1351);let m=e=>{let{href:r,iconSize:t="normal",children:n}=e;return(0,l.jsxs)(h.Z,{children:[(0,l.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:n}),"none"!==t&&(0,l.jsx)(f.Z,{style:{color:"#4B5563",fontSize:"small"===t?"12px":void 0}})]})};t(2265);let x=e=>Math.round(e>=400?e:400/Math.exp(1-e/400)),y=["Black","Grey","Brown","Green","Cyan","Blue","Yellow","Orange","Red"],C=e=>{let r=Math.min(Math.floor(e/400),y.length-2);return y[r+1]},p={difficultyBlackColor:"#404040",difficultyGreyColor:"#808080",difficultyBrownColor:"#804000",difficultyGreenColor:"#008000",difficultyCyanColor:"#00C0C0",difficultyBlueColor:"#0000FF",difficultyYellowColor:"#C0C000",difficultyOrangeColor:"#FF8000",difficultyRedColor:"#FF0000"},F=e=>{switch(e){case"Black":return p.difficultyBlackColor;case"Grey":return p.difficultyGreyColor;case"Brown":return p.difficultyBrownColor;case"Green":return p.difficultyGreenColor;case"Cyan":return p.difficultyCyanColor;case"Blue":return p.difficultyBlueColor;case"Yellow":return p.difficultyYellowColor;case"Orange":return p.difficultyOrangeColor;case"Red":return p.difficultyRedColor}},g=e=>{switch(e){case"Bronze":return{base:"#965C2C",highlight:"#FFDABD"};case"Silver":return{base:"#808080",highlight:"#FFFFFF"};case"Gold":return{base:"#FFD700",highlight:"#FFFFFF"}}},b=(e,r)=>{if("Bronze"===e||"Silver"===e||"Gold"===e){let r=g(e);return{borderColor:r.base,background:"linear-gradient(to right,         ".concat(r.base,", ").concat(r.highlight,", ").concat(r.base,")")}}{let t=F(e);return{borderColor:t,background:"border-box linear-gradient(to top,         ".concat(t," ").concat(100*r,"%,         rgba(0,0,0,0) ").concat(100*r,"%)")}}},j=e=>{let{color:r,rating:t}=e,n=b(r,t>=3200?1:t%400/400);return(0,l.jsx)("span",{className:"inline-block align-sub rounded-full border border-solid w-3.5 h-3.5 bg-origin-border",style:n})}}},function(e){e.O(0,[383,405,60,252,971,938,744],function(){return e(e.s=449)}),_N_E=e.O()}]);